var WrapperTracer=function(){function e(e,l,i){r=e,a=i,o=this.setContainer(l),n=s.wrapp(e,a,p),t=n.id}var t,r,n,a,o,s={wrapp:function(e,t,r){var n=s.clone(e);for(var a in e)"function"==typeof e[a]&&(n[a]=s.inject(n,e,a,t,r));return n},clone:function(e){function t(e){this.id=e}var r="WrapperTracer-"+(new Date).getTime()+"-"+Math.floor(10*Math.random()+1),n=new t(r);for(var a in e)e.hasOwnProperty(a)?n[a]=e[a]:t.prototype[a]=e[a];return n},inject:function(e,t,r,n,a){return function(){s.LIFO.add(r);var o=(new Date).getTime(),l=t[r].apply(e,arguments),i=(new Date).getTime()-o;return a&&a(i,r,l,arguments),n&&n(i,r,l,arguments),s.LIFO.del(),l}},getProperties:function(e,t){t||(t=0);var r={objects:[],functions:[],strings:[],numbers:[],booleans:[],undefineds:[]};for(var n in e)r[(typeof e[n]).toLowerCase()+"s"]&&(1===t&&e.hasOwnProperty(n)?r[(typeof e[n]).toLowerCase()+"s"].push(n):-1!==t||e.hasOwnProperty(n)?0===t&&r[(typeof e[n]).toLowerCase()+"s"].push(n):r[(typeof e[n]).toLowerCase()+"s"].push(n));return r},LIFO:{root:"WrapperTracer",path:"WrapperTracer",SEP:".",add:function(e){this.path=this.path+this.SEP+e},del:function(){if(this.path.split(this.SEP).length>1){var e=this.path.split(this.SEP);e.pop(),this.path=e.join(this.SEP)}},last:function(){return this.path.split(this.SEP)[this.path.split(this.SEP).length-1]},count:function(){return this.path.split(this.SEP).length},reset:function(){this.path=this.root}},UI:{fatherStylized:function(e,t,r){function n(t){t.preventDefault(),t.stopPropagation();for(var r=e.getElementsByTagName("div"),n=0;n<r.length;n++)s.toggleDisplay(r[n]);return!0}if(e){var a,o,l;e.getElementsByTagName("h6").length>0?(a=e.getElementsByTagName("h6")[0],o=e.getElementsByTagName("hr")[0],e.removeChild(o),e.appendChild(o)):(a=document.createElement("h6"),e.insertBefore(a,e.childNodes[0]),e.style.background="navajoWhite",e.style.borderRadius="8px",e.style.boxShadow="1px 1px 2px",e.style.padding="2px",e.style.margin="1px",e.style.zIndex="100",e.style.position="relative",o=document.createElement("hr"),o.style.clear="both",e.appendChild(o)),s.addClass(e,"wrapperEventFather"),l=document.createElement("a"),l.style.margin="2px",l.innerHTML=r+", ",l.href="#"+r,s.addEvent(l,"click",function(e){var t=l.href.split("#"),r=document.getElementById(t[t.length-1]);if(r){s.UI.enhanced(r,4e3);for(var n=r.getElementsByTagName("img"),a=0;a<n.length;a++)if(s.hasClass(n[a],"firerFunction")){n[a].click();break}}return e.stopPropagation(),!0}),s.addEvent(l,"mouseover",function(e){var t=l.href.split("#"),r=document.getElementById(t[t.length-1]);return r&&(r.style.border="2px solid yellow"),e.stopPropagation(),!0}),s.addEvent(l,"mouseleave",function(e){var t=l.href.split("#"),r=document.getElementById(t[t.length-1]);return r&&(r.style.border="1px solid maroon"),e.stopPropagation(),!0}),a.appendChild(l),e.onclick=n}return e},propertyStylized:function(e,t,r,n,a,o,l){function i(e){e.preventDefault(),e.stopPropagation();for(var t=0;t<v.length;t++)s.hasClass(v[t],"wrapperEventFunction")&&s.toggleDisplay(v[t]);return!0}if(e){var p=[].slice.call(l).toString();e.id=a,e.setAttribute("name",a),s.addClass(e,"wrapperEventFunction"),e.style.background=s.UI.getDepthColor(a,null),e.style.border="1px solid maroon",e.style.borderRadius="8px",e.style.boxShadow="1px 1px 2px",e.style.padding="2px",e.style.margin="1px",e.style.cursor="pointer",e.style.cssFloat="left",e.style.fontSize="x-small",e.style.zIndex=100+a.split(s.LIFO.SEP).length+"",e.style.position="relative",e.style.display="block";var d=document.createElement("ul"),c=document.createElement("li");c.innerHTML="PATH:: "+a;var u=document.createElement("li");u.innerHTML="ELAPSED:: "+r;var y=document.createElement("li");y.innerHTML="RESULT:: "+o,d.appendChild(c),d.appendChild(u),d.appendChild(y),e.insertBefore(d,e.childNodes[0]);var h=document.createElement("p");h.style.color="maroon",h.style.fontSize="larger",h.innerHTML=n+" ( "+p+" ) ",e.insertBefore(h,e.childNodes[0]);var m=document.createElement("p");m.className="ctrMethod",m.style.background="lightYellow",m.style.color="white",m.style.padding="1px",m.style.borderRadius="2px",m.style.position="absolute",m.style.right="0",m.style.fontSize="smaller",e.insertBefore(m,e.childNodes[0]);var g=document.createElement("span");g.className="infoMethod",g.style.background=s.UI.getPropertyTypeColor(t,n),g.style.color="white",g.style.padding="4px",g.style.margin="1px",g.style.borderRadius="4px",g.style.boxShadow="1px 1px 2px",g.style.cssFloat="left",g.title=s.UI.getPropertyTypeNamed(t,n),g.innerHTML=g.title.substr(0,1)+"<sub>"+s.UI.getPropertyType(t,n)+"</sub>",m.appendChild(g);var f=document.createElement("img");f.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMBAMAAACkW0HUAAAAFVBMVEX/jYvEAAL0AAC2Hx1CSVDKtLL8//uFUdIFAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAFxIAABcSAWef0lIAAAAHdElNRQffCwcRBRS/8uSNAAAAMUlEQVQI12NggAEXFwgJpl3c0lwcGFhc0sCUW5JiCogKEgRTycJACqoEpoHFBcSBAADyqwwbcf9r5QAAAABJRU5ErkJggg==",f.className="firerFunction",f.style.cssFloat="left",f.style.width="16px",f.style.cursor="pointer",f.style.border="1px dashed maroon",f.title=t&&t[n]?t[n].toString():"???",m.appendChild(f),s.addEvent(f,"mouseenter",function(e){return e.preventDefault(),e.stopPropagation(),f.style.border="2px dashed red",!0}),s.addEvent(f,"mouseleave",function(e){return e.preventDefault(),e.stopPropagation(),f.style.border="1px ridge maroon",!0}),s.addEvent(f,"click",function(e){return e.preventDefault(),e.stopPropagation(),t&&t[n]&&t[n].apply(t,l),!0}),s.addEvent(e,"click",function(e){return e.preventDefault(),e.stopPropagation(),!0}),s.addEvent(e,"mouseenter",function(t){return t.preventDefault(),t.stopPropagation(),e.style.border="2px ridge red",!0}),s.addEvent(e,"mouseleave",function(t){return t.preventDefault(),t.stopPropagation(),e.style.border="1px ridge maroon",!0});var v=e.getElementsByTagName("div");v.length>0&&(s.removeEvent(e,"click",i),s.addEvent(e,"click",i))}return e},getDepthColor:function(e,t){t||(t=[220,125,25]);var r=25*e.split(s.LIFO.SEP).length;return"RGB("+parseInt(t[0]+r/8+"")+", "+parseInt(t[1]+r/2+"")+", "+parseInt(t[2]+r+"")+")"},getPropertyTypeColor:function(e,t,r){switch(void 0===r&&(r=void 0),isNaN(r)&&(r=s.UI.getPropertyType(e,t)),r){case 0:return"chartreuse";case 1:return"limeGreen";case 2:return"mediumPurple";case 3:return"blueViolet";case 4:return"khaki";case 5:return"darkKhaki";case 6:return"navajoWhite";case 7:return"coral";case 8:return"skyBlue ";case 9:return"steelBlue";case 10:return"cadetBlue";case 11:return"Turquoise";case 12:return"#AAAAAA";case 13:return"#666666";case 14:return"dimGray";case 15:return"darkSlateGray";case 16:return"darkGray";case 17:return"lightGray";default:return"#333333"}return"#555555"},getPropertyTypeNamed:function(e,t,r){switch(void 0===r&&(r=void 0),isNaN(r)&&(r=s.UI.getPropertyType(e,t)),r){case 0:return"function OWN";case 1:return"function INHERITED";case 2:return"object OWN";case 3:return"object INHERITED";case 4:return"array OWN";case 5:return"array INHERITED";case 6:return"string OWN";case 7:return"string INHERITED";case 8:return"number OWN";case 9:return"number INHERITED";case 10:return"boolean OWN";case 11:return"boolean INHERITED";case 12:return"undefined OWN";case 13:return"undefined INHERITED";case 14:return"null OWN";case 15:return"null INHERITED";case 16:return"unknown OWN";case 17:return"unknown INHERITED";default:return"NON-EXISTENT"}return"NON-EXISTENT"},getPropertyType:function(e,t){if(e){var r=e.hasOwnProperty(t);switch((typeof e[t]).toLowerCase()){case"function":return r?0:1;case"object":return e[t]instanceof Array?r?4:5:null===e[t]?r?14:15:r?2:3;case"array":return r?4:5;case"string":return r?6:7;case"number":return r?8:9;case"boolean":return r?10:11;case"undefined":return null===e[t]?r?14:15:r?12:13;case"null":return r?14:15;default:return r?16:17}}return 20},prepareBody:function(e){if(e){try{"string"==typeof e&&(e=document.getElementById(e+"")),e.id=e.id}catch(t){return e}var r=document.createElement("h3");r.style.textDecoration="underline",r.style.margin="auto",r.style.textShadow="1px 1px whiteSmoke",r.appendChild(document.createTextNode("WRAPPER-TRACER:")),e.appendChild(r);var n,a=document.createElement("div");a.id="wrapperInfo",a.className="wrapperInfo",a.style.background="lightGray",a.style.borderRadius="6px",a.style.boxShadow="4px 4px 6px",a.style.width="99%",a.style.padding="4px",a.style.margin="1px";var o=document.createElement("h4");o.id="wrapperInfo-title",o.innerHTML="OBJECT SKELETON: ",o.style.cssFloat="left",o.style.margin="2px",o.style.maxWidth="50%",a.appendChild(o),n=document.createElement("hr"),n.style.clear="both",n.style.marginBottom="0",a.appendChild(n),e.appendChild(a),n=document.createElement("hr"),n.style.clear="both",e.appendChild(n);var s=document.createElement("div");s.id="wrapperEvents",s.style.background="lightYellow",s.style.borderRadius="6px",s.style.boxShadow="4px 4px 6px",s.style.width="99%",s.style.padding="4px",s.style.margin="1px",s.style.clear="both",s.innerHTML="OBJECT TRAITS:",n=document.createElement("hr"),n.style.clear="both",s.appendChild(n),e.appendChild(s),n=document.createElement("hr"),n.style.clear="both",n.style.marginBottom="0",e.appendChild(n)}return e},buildPropertiesInfo:function(e,t){if(e&&t){var r=e.parentNode.firstChild;r.textContent+=" '"+s.getClassName(t)+"' ["+typeof t+"]";var n=document.createElement("div");n.className="wrapperProperties",n.style.clear="both",e.appendChild(n);var a=document.createElement("span");a.className="viewEnabled",a.style.fontSize="smaller",a.style.cssFloat="left",a.style.textShadow="1px 1px whiteSmoke",a.style.cursor="pointer",a.style.padding="2px",a.style.border="4px ridge gray",a.style.borderRadius="6px",a.style.boxShadow="2px 2px 4px",a.title="PROPERTIES (VIEW / HIDDEN)",a.onclick=function(){"viewEnabled"===a.className?(n.style.display="none",a.className="viewDisabled"):(n.style.display="block",a.className="viewEnabled")},a.onmouseover=function(){a.style.opacity="0.8"},a.onmouseout=function(){a.style.opacity="1"},a.appendChild(document.createTextNode("+/-")),e.insertBefore(a,e.firstChild.nextSibling);var o=document.createElement("div");o.className="wrapperProperties-infoColors",o.style.fontSize="x-small",o.style.cssFloat="right",o.style.textShadow="1px 1px whiteSmoke",o.style.padding="2px",o.style.border="1px solid gray",o.style.borderRadius="6px",o.style.textAlign="center",o.style.boxShadow="2px 2px 4px",o.style.background="whiteSmoke",o.innerHTML="<-?:",e.insertBefore(o,e.firstChild.nextSibling);for(var l=0;18>=l;l++){var i=document.createElement("div");i.innerHTML=l+"",i.title=s.UI.getPropertyTypeNamed(null,null,l),i.style.background=s.UI.getPropertyTypeColor(null,null,l),i.style.borderRadius="4px",i.style.width="14px",i.style.height="14px",i.style.padding="0",i.style.margin="1px",i.style.cssFloat="left",i.style.cursor="pointer",i.style.opacity="1",s.UI.transparency(i,.7),o.appendChild(i)}var p=t.id||parseInt(1e3*(Math.random()+1)/10+""),d=document.createElement("div");d.className="wrapperPropertiesNumbers",d.id="wrapperPropertiesNumbers-"+p,d.style.cssFloat="left",d.style.maxWidth="18%",d.style.border="2px ridge maroon",d.style.borderRadius="8px",d.style.textAlign="center";var c=document.createElement("h5");c.style.textDecoration="underline",c.style.margin="auto",c.style.textShadow="1px 1px whiteSmoke",c.appendChild(document.createTextNode("NUMBERS, STRINGS, ...")),d.appendChild(c),n.appendChild(d);var u=document.createElement("div");u.className="wrapperPropertiesObjects",u.style.cssFloat="left",u.style.maxWidth="18%",u.style.border="2px ridge maroon",u.style.borderRadius="8px",u.style.textAlign="center",c=document.createElement("h5"),c.style.textDecoration="underline",c.style.margin="auto",c.style.textShadow="1px 1px whiteSmoke",c.appendChild(document.createTextNode("OBJECTS, ARRAYS, ...")),u.appendChild(c),n.appendChild(u);var y=document.createElement("div");y.className="wrapperPropertiesFunctions",y.style.cssFloat="left",y.style.maxWidth="58%",y.style.border="2px ridge maroon",y.style.borderRadius="8px",y.style.textAlign="center",c=document.createElement("h5"),c.style.textDecoration="underline",c.style.margin="auto",c.style.textShadow="1px 1px whiteSmoke",c.appendChild(document.createTextNode("FUNCTIONS, ...")),y.appendChild(c),n.appendChild(y);var h={pNumberString:d,pObjectArray:u,pFunction:y};for(var m in t)s.UI.buildPropertyInfo(e,t,m,h);var g=document.createElement("br");g.style.clear="both",e.appendChild(g)}return e},buildPropertyInfo:function(e,t,r,n){if(e&&t){var a=null,o=document.createElement("div"),l=t.hasOwnProperty(r),i="?",p="white";switch(o.className="wrapperProperty-Info",o.style.background=s.UI.getPropertyTypeColor(t,r),s.UI.getPropertyType(t,r)){case 0:case 1:a=n.pFunction,i="&conint;",p=l?"limeGreen":"chartreuse";break;case 2:case 3:a=n.pObjectArray,i="&star;",p=l?"blueViolet":"mediumPurple";break;case 4:case 5:a=n.pObjectArray,i="&therefore;",p=l?"darkKhaki":"khaki";break;case 6:case 7:a=n.pNumberString,i="&aelig;",p=l?"coral":"navajoWhite";break;case 8:case 9:a=n.pNumberString,i="&naturals;",p=l?"steelBlue":"skyBlue";break;case 10:case 11:a=n.pNumberString,i="&origof;",p=l?"Turquoise":"cadetBlue";break;case 12:case 13:a=n.pNumberString,i="!",p=l?"#666666":"#AAAAAA";break;case 14:case 15:a=n.pNumberString,i="&empty;",p=l?"darkSlateGray":"dimGray";break;default:a=n.pFunction,i="?",p=l?"lightGray":"darkGray"}o.style.borderRadius="6px",o.style.boxShadow="2px 2px 3px",o.style.padding="2px",o.style.margin="1px",o.style.cssFloat="left",o.style.maxWidth="98%",o.style.maxHeight="75px",o.style.overflow="auto",o.onmouseover=function(){o.style.opacity="0.8"},o.onmouseout=function(){o.style.opacity="1"};var d=document.createElement("h3");d.className="wrapperTitleProperty",d.style.display="inline",d.title="Property type: ["+typeof t[r]+"]",d.appendChild(document.createTextNode(" = "+r+" = "));var c=document.createElement("div");c.className="wrapperBodyProperty",c.style.background=l?"white":"whiteSmoke",c.style.borderRadius="2px",c.style.boxShadow="2px 2px 3px",c.style.padding="2px",c.style.margin="1px",t[r]&&(c.title=t[r].toString());var u=document.createTextNode(t[r]);c.appendChild(u);var y=document.createElement("span");y.innerHTML=i,y.style.padding="2px",y.style.background=p,y.style.borderRadius="2px",y.style.cssFloat="right",y.style.width="16px",y.style.textShadow="1px 1px whiteSmoke",y.title=s.UI.getPropertyTypeNamed(t,r)+" ["+(l?"Own":"Inherited")+"]",y.style.cursor="pointer",o.appendChild(d),o.appendChild(y),o.appendChild(c),a.appendChild(o)}return e},buildDOMPath:function u(e,t){var r;if(e){var n=t.split(s.LIFO.SEP),a=n[0];try{for(var o=e.getElementsByTagName("div"),l=0;l<o.length;l++){var i=o[l].id.split(s.LIFO.SEP);i[i.length-1]===a&&(r=o[l])}r.id=r.id}catch(p){r=document.createElement("div"),r.id=a,e.appendChild(r)}if(n.length>1){var d=u(r,n.slice(1).join(s.LIFO.SEP));d&&r.appendChild(d)}}return r},getLastDOMPath:function(e,t){var r;if(e)for(var n=t.split(s.LIFO.SEP),a=1;a<n.length;a++){var o=n[a];try{for(var l=e.getElementsByTagName("div"),i=0;i<l.length;i++)l[i].id===o&&(r=l[i]);r.id=r.id,e=r}catch(p){r=null;break}}return r},enhanced:function(e,t){if(void 0===t&&(t=2e3),e){t||(t=2e3);var r=e.style.border,n=e.style.display;e.style.display="block",e.style.border="2px solid yellow",window.setTimeout(function(){e.style.display=n,e.style.border=r},t)}return this},highlight:function(e,t){if(void 0===t&&(t="yellow"),e){t||(t="yellow");var r=e.style.border,n=e.style.display;s.addEvent(e,"mouseover",function(r){return r.preventDefault(),r.stopPropagation(),e.style.display="block",e.style.border="1px solid "+t,!0}),s.addEvent(e,"mouseleave",function(t){return t.preventDefault(),t.stopPropagation(),e.style.display=n,e.style.border=r,!0})}return this},transparency:function(e,t){if(void 0===t&&(t=.8),e){t||(t=.8);var r=e.style.opacity;s.addEvent(e,"mouseover",function(r){return r.preventDefault(),r.stopPropagation(),e.style.opacity=t+"",!0}),s.addEvent(e,"mouseleave",function(t){return t.preventDefault(),t.stopPropagation(),e.style.opacity=r,!0})}return this}},addClass:function(e,t){if(e.classList)e.classList.add(t);else if(-1===e.className.indexOf(t)){var r=e.className.split(" ");r.push(t),e.className=r.join(" ")}return this},removeClass:function(e,t){if(e.classList)e.classList.remove(t);else if(e.className.indexOf(t)>-1){var r=e.className.split(" "),n=r.indexOf(t);r.splice(n,1),e.className=r.join(" ")}return this},toggleClass:function(e,t){return e.classList?e.classList.toggle(t):e.className.indexOf(t)>-1?s.removeClass(e,t):s.addClass(e,t),this},hasClass:function(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1},addEvent:function(e,t,r){return e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,r),this},removeEvent:function(e,t,r){return e[t]=null,e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r),this},hasEvent:function(e,t){t=e.attachEvent?"on"+t:t;var r="function"==typeof e[t],n=void 0!==e[t];e.hasOwnProperty(t);return r||n},toggleDisplay:function(e){return"block"===e.style.display?e.style.display="none":e.style.display="block",this},getClassName:function(e){return e&&e.constructor?(""+e.constructor).split("function ")[1].split("(")[0].trim():"[NONE]"},name:"Util"},l={},i={},p=function(e,t,n,a){var l=s.LIFO.path;if(i[t]={path:l,elapsed:e,result:n,args:[].slice.call(a),type:s.UI.getPropertyType(r,t)},o&&d&&c){var p=s.UI.buildDOMPath(c,l);p=s.UI.fatherStylized(p,r,l);var u=s.UI.getLastDOMPath(c,l);u=s.UI.propertyStylized(u,r,e,t,l,n,a)}},d=null,c=null;return e.prototype.getId=function(){return t||n.id},e.prototype.getTarget=function(){return r},e.prototype.getWrapped=function(){return n||s.wrapp(r,a,p)},e.prototype.getCallback=function(){return a},e.prototype.getProps=function(){return l||s.getProperties(r,0)},e.prototype.getInfo=function(){return i},e.prototype.getContainer=function(){return o},e.prototype.getUtil=function(){return s},e.prototype.setContainer=function(e){if(o=e,o=s.UI.prepareBody(o)){var t=o.getElementsByTagName("div");d=t[0],c=t[1],d=s.UI.buildPropertiesInfo(d,r)}return o},e}();